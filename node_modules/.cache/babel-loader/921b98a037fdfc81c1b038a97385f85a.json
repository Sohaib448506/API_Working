{"ast":null,"code":"var _jsxFileName = \"/home/sohaib/Desktop/Practice/bookStore/React_bookstore/src/context/AppContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useReducer, useState } from \"react\";\nimport { shopReducer, cartActions } from '../reducers/shopReducer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/createContext();\n\nconst AppContextProvider = _ref => {\n  _s();\n\n  var _getUserFromLS, _getCartFromLS;\n\n  let {\n    children\n  } = _ref;\n\n  const getUserFromLS = () => {\n    let user = localStorage.getItem('user');\n\n    if (user) {\n      return JSON.parse(user);\n    }\n  };\n\n  const getCartFromLS = () => {\n    let cart = localStorage.getItem('cart');\n\n    if (cart) {\n      return JSON.parse(cart);\n    }\n  };\n\n  const [user, _setUser] = useState((_getUserFromLS = getUserFromLS()) !== null && _getUserFromLS !== void 0 ? _getUserFromLS : {});\n  const [alert, setAlert] = useState({});\n  const [cart, dispatch] = useReducer(shopReducer, (_getCartFromLS = getCartFromLS()) !== null && _getCartFromLS !== void 0 ? _getCartFromLS : []);\n  useEffect(() => {\n    localStorage.setItem('cart', JSON.stringify(cart));\n  }, [cart]);\n\n  const setUser = user => {\n    localStorage.setItem('user', JSON.stringify(user));\n\n    _setUser(user);\n  };\n\n  const values = {\n    alert,\n    setAlert,\n    user,\n    setUser,\n    cart,\n    addToCart: book => {\n      dispatch({\n        type: cartActions.addToCart,\n        book\n      });\n    },\n    addBulkToCart: book => {\n      dispatch({\n        type: cartActions.addBulkToCart,\n        book\n      });\n    },\n    removeFromCart: book => {\n      dispatch({\n        type: cartActions.removeFromCart,\n        book\n      });\n    },\n    removeAllFromCart: book => {\n      dispatch({\n        type: cartActions.removeAllFromCart,\n        book\n      });\n    },\n    emptyCart: () => {\n      dispatch({\n        type: cartActions.emptyCart\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: values,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AppContextProvider, \"gc22EEaFZn8GH7Hgu66VpdbBwY8=\");\n\n_c = AppContextProvider;\nexport default AppContextProvider; // import {createContext, useState} from \"react\";\n// // import LoginForm from './forms/LoginForm';\n// export const AppContext = createContext({\n//     currentGrid: '',\n//     setGrid: null\n// });\n// const DisplayAllBooksGrid1 = ({children})=>{\n//     const currentGrid = localStorage.getItem('appBook') || ''\n//     const [bookTitle, _setBookTitle] = useState(currentGrid)\n//     const grid = getGrid(bookTitle)\n//     const setBookTitle = (title)=>{\n//         localStorage.setItem('appBook', title)\n//         _setBookTitle(title)\n//     }\n//     const values = {\n//         currentGrid: bookTitle,\n//         setGrid: setBookTitle\n//     }\n//     return{\n//         <AppContext.Provider value={values}>\n//             {children}\n//         </AppContext.Provider>\n//     }\n// }\n// export default DisplayAllBooksGrid1\n\nvar _c;\n\n$RefreshReg$(_c, \"AppContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useReducer","useState","shopReducer","cartActions","AppContext","AppContextProvider","children","getUserFromLS","user","localStorage","getItem","JSON","parse","getCartFromLS","cart","_setUser","alert","setAlert","dispatch","setItem","stringify","setUser","values","addToCart","book","type","addBulkToCart","removeFromCart","removeAllFromCart","emptyCart"],"sources":["/home/sohaib/Desktop/Practice/bookStore/React_bookstore/src/context/AppContext.js"],"sourcesContent":["import {createContext, useEffect, useReducer, useState} from \"react\";\nimport {shopReducer, cartActions} from '../reducers/shopReducer';\n\n\nexport const AppContext = createContext();\n\nconst AppContextProvider=({children})=>{\n\n    const getUserFromLS = ()=>{\n        let user = localStorage.getItem('user')\n        if (user){\n            return JSON.parse(user)\n        }\n    }\n    const getCartFromLS = () =>{\n        let cart =localStorage.getItem('cart')\n        if (cart){\n            return JSON.parse(cart)\n        }\n    }\n    const [user, _setUser] = useState(getUserFromLS()??{})\n    const [alert, setAlert] = useState({})\n    const [cart, dispatch] = useReducer(shopReducer, getCartFromLS()??[])\n\n\n        useEffect(\n            ()=>{\n                localStorage.setItem('cart', JSON.stringify(cart))\n            },[cart]\n        )\n    const setUser = (user)=>{\n        localStorage.setItem('user', JSON.stringify(user))\n        _setUser(user)\n    }\n\n\n    const values = {\n        alert,\n        setAlert,\n        user,\n        setUser,\n        cart,\n        addToCart:(book)=>{\n            dispatch({type: cartActions.addToCart, book})\n        },\n        addBulkToCart:(book)=>{\n            dispatch({type: cartActions.addBulkToCart, book})\n        },\n        removeFromCart:(book)=>{\n            dispatch({type: cartActions.removeFromCart, book})\n        },\n        removeAllFromCart:(book)=>{\n            dispatch({type: cartActions.removeAllFromCart, book})\n        },\n        emptyCart:()=>{dispatch({type:cartActions.emptyCart})}\n    }\n    return (\n        <AppContext.Provider value={values}>\n            {children}\n        </AppContext.Provider>\n    )\n}\n\nexport default AppContextProvider\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import {createContext, useState} from \"react\";\n// // import LoginForm from './forms/LoginForm';\n\n// export const AppContext = createContext({\n//     currentGrid: '',\n//     setGrid: null\n// });\n\n// const DisplayAllBooksGrid1 = ({children})=>{\n//     const currentGrid = localStorage.getItem('appBook') || ''\n//     const [bookTitle, _setBookTitle] = useState(currentGrid)\n//     const grid = getGrid(bookTitle)\n\n//     const setBookTitle = (title)=>{\n//         localStorage.setItem('appBook', title)\n//         _setBookTitle(title)\n//     }\n\n//     const values = {\n//         currentGrid: bookTitle,\n//         setGrid: setBookTitle\n//     }\n\n//     return{\n//         <AppContext.Provider value={values}>\n//             {children}\n//         </AppContext.Provider>\n//     }\n\n// }\n\n// export default DisplayAllBooksGrid1\n\n\n\n"],"mappings":";;;AAAA,SAAQA,aAAR,EAAuBC,SAAvB,EAAkCC,UAAlC,EAA8CC,QAA9C,QAA6D,OAA7D;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,yBAAvC;;AAGA,OAAO,MAAMC,UAAU,gBAAGN,aAAa,EAAhC;;AAEP,MAAMO,kBAAkB,GAAC,QAAc;EAAA;;EAAA;;EAAA,IAAb;IAACC;EAAD,CAAa;;EAEnC,MAAMC,aAAa,GAAG,MAAI;IACtB,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACA,IAAIF,IAAJ,EAAS;MACL,OAAOG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;IACH;EACJ,CALD;;EAMA,MAAMK,aAAa,GAAG,MAAK;IACvB,IAAIC,IAAI,GAAEL,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAV;;IACA,IAAII,IAAJ,EAAS;MACL,OAAOH,IAAI,CAACC,KAAL,CAAWE,IAAX,CAAP;IACH;EACJ,CALD;;EAMA,MAAM,CAACN,IAAD,EAAOO,QAAP,IAAmBd,QAAQ,mBAACM,aAAa,EAAd,2DAAkB,EAAlB,CAAjC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACa,IAAD,EAAOI,QAAP,IAAmBlB,UAAU,CAACE,WAAD,oBAAcW,aAAa,EAA3B,2DAA+B,EAA/B,CAAnC;EAGId,SAAS,CACL,MAAI;IACAU,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAeN,IAAf,CAA7B;EACH,CAHI,EAGH,CAACA,IAAD,CAHG,CAAT;;EAKJ,MAAMO,OAAO,GAAIb,IAAD,IAAQ;IACpBC,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAeZ,IAAf,CAA7B;;IACAO,QAAQ,CAACP,IAAD,CAAR;EACH,CAHD;;EAMA,MAAMc,MAAM,GAAG;IACXN,KADW;IAEXC,QAFW;IAGXT,IAHW;IAIXa,OAJW;IAKXP,IALW;IAMXS,SAAS,EAAEC,IAAD,IAAQ;MACdN,QAAQ,CAAC;QAACO,IAAI,EAAEtB,WAAW,CAACoB,SAAnB;QAA8BC;MAA9B,CAAD,CAAR;IACH,CARU;IASXE,aAAa,EAAEF,IAAD,IAAQ;MAClBN,QAAQ,CAAC;QAACO,IAAI,EAAEtB,WAAW,CAACuB,aAAnB;QAAkCF;MAAlC,CAAD,CAAR;IACH,CAXU;IAYXG,cAAc,EAAEH,IAAD,IAAQ;MACnBN,QAAQ,CAAC;QAACO,IAAI,EAAEtB,WAAW,CAACwB,cAAnB;QAAmCH;MAAnC,CAAD,CAAR;IACH,CAdU;IAeXI,iBAAiB,EAAEJ,IAAD,IAAQ;MACtBN,QAAQ,CAAC;QAACO,IAAI,EAAEtB,WAAW,CAACyB,iBAAnB;QAAsCJ;MAAtC,CAAD,CAAR;IACH,CAjBU;IAkBXK,SAAS,EAAC,MAAI;MAACX,QAAQ,CAAC;QAACO,IAAI,EAACtB,WAAW,CAAC0B;MAAlB,CAAD,CAAR;IAAuC;EAlB3C,CAAf;EAoBA,oBACI,QAAC,UAAD,CAAY,QAAZ;IAAqB,KAAK,EAAEP,MAA5B;IAAA,UACKhB;EADL;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CAvDD;;GAAMD,kB;;KAAAA,kB;AAyDN,eAAeA,kBAAf,C,CAmBA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA"},"metadata":{},"sourceType":"module"}