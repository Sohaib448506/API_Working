{"ast":null,"code":"var _jsxFileName = \"/home/sohaib/Desktop/Practice/bookStore/API Work/src/context/AppContext.js\",\n    _s = $RefreshSig$();\n\nimport { createContext, useEffect, useReducer, useState } from \"react\";\nimport { shopReducer, cartActions } from \"../reducers/shopReducer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContext = /*#__PURE__*/createContext();\n\nconst AppContextProvider = _ref => {\n  _s();\n\n  var _getUserFromLS, _getCartFromLS;\n\n  let {\n    children\n  } = _ref;\n\n  const getUserFromLS = () => {\n    let user = localStorage.getItem(\"user\");\n\n    if (user) {\n      return JSON.parse(user);\n    }\n  };\n\n  const getCartFromLS = () => {\n    let cart = localStorage.getItem(\"cart\");\n\n    if (cart) {\n      return JSON.parse(cart);\n    }\n  };\n\n  const [user, _setUser] = useState((_getUserFromLS = getUserFromLS()) !== null && _getUserFromLS !== void 0 ? _getUserFromLS : {});\n  const [alert, setAlert] = useState({});\n  const [cart, dispatch] = useReducer(shopReducer, (_getCartFromLS = getCartFromLS()) !== null && _getCartFromLS !== void 0 ? _getCartFromLS : []);\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }, [cart]);\n\n  const setUser = user => {\n    localStorage.setItem(\"user\", JSON.stringify(user));\n\n    _setUser(user);\n  };\n\n  const values = {\n    alert,\n    setAlert,\n    user,\n    setUser,\n    cart,\n    addToCart: shopReducer(cartActions.addToCart(book)),\n    // addToCart: (book) => {\n    //   dispatch({ type: cartActions.addToCart, book });\n    // },\n    addBulkToCart: book => {\n      dispatch({\n        type: cartActions.addBulkToCart,\n        book\n      });\n    },\n    removeFromCart: book => {\n      dispatch({\n        type: cartActions.removeFromCart,\n        book\n      });\n    },\n    removeAllFromCart: book => {\n      dispatch({\n        type: cartActions.removeAllFromCart,\n        book\n      });\n    },\n    emptyCart: () => {\n      dispatch({\n        type: cartActions.emptyCart\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: values,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 10\n  }, this);\n};\n\n_s(AppContextProvider, \"KFGH85fFd6kZ2EXlFO4J7YUIC+o=\");\n\n_c = AppContextProvider;\nexport default AppContextProvider; // import {createContext, useState} from \"react\";\n// // import LoginForm from './forms/LoginForm';\n// export const AppContext = createContext({\n//     currentGrid: '',\n//     setGrid: null\n// });\n// const DisplayAllBooksGrid1 = ({children})=>{\n//     const currentGrid = localStorage.getItem('appBook') || ''\n//     const [bookTitle, _setBookTitle] = useState(currentGrid)\n//     const grid = getGrid(bookTitle)\n//     const setBookTitle = (title)=>{\n//         localStorage.setItem('appBook', title)\n//         _setBookTitle(title)\n//     }\n//     const values = {\n//         currentGrid: bookTitle,\n//         setGrid: setBookTitle\n//     }\n//     return{\n//         <AppContext.Provider value={values}>\n//             {children}\n//         </AppContext.Provider>\n//     }\n// }\n// export default DisplayAllBooksGrid1\n\nvar _c;\n\n$RefreshReg$(_c, \"AppContextProvider\");","map":{"version":3,"names":["createContext","useEffect","useReducer","useState","shopReducer","cartActions","AppContext","AppContextProvider","children","getUserFromLS","user","localStorage","getItem","JSON","parse","getCartFromLS","cart","_setUser","alert","setAlert","dispatch","setItem","stringify","setUser","values","addToCart","book","addBulkToCart","type","removeFromCart","removeAllFromCart","emptyCart"],"sources":["/home/sohaib/Desktop/Practice/bookStore/API Work/src/context/AppContext.js"],"sourcesContent":["import { createContext, useEffect, useReducer, useState } from \"react\";\nimport { shopReducer, cartActions } from \"../reducers/shopReducer\";\n\nexport const AppContext = createContext();\n\nconst AppContextProvider = ({ children }) => {\n  const getUserFromLS = () => {\n    let user = localStorage.getItem(\"user\");\n    if (user) {\n      return JSON.parse(user);\n    }\n  };\n  const getCartFromLS = () => {\n    let cart = localStorage.getItem(\"cart\");\n    if (cart) {\n      return JSON.parse(cart);\n    }\n  };\n  const [user, _setUser] = useState(getUserFromLS() ?? {});\n  const [alert, setAlert] = useState({});\n  const [cart, dispatch] = useReducer(shopReducer, getCartFromLS() ?? []);\n\n  useEffect(() => {\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }, [cart]);\n  const setUser = (user) => {\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    _setUser(user);\n  };\n\n  const values = {\n    alert,\n    setAlert,\n    user,\n    setUser,\n    cart,\n\n    addToCart: shopReducer(cartActions.addToCart(book)),\n    // addToCart: (book) => {\n    //   dispatch({ type: cartActions.addToCart, book });\n    // },\n    addBulkToCart: (book) => {\n      dispatch({ type: cartActions.addBulkToCart, book });\n    },\n    removeFromCart: (book) => {\n      dispatch({ type: cartActions.removeFromCart, book });\n    },\n    removeAllFromCart: (book) => {\n      dispatch({ type: cartActions.removeAllFromCart, book });\n    },\n    emptyCart: () => {\n      dispatch({ type: cartActions.emptyCart });\n    },\n  };\n  return <AppContext.Provider value={values}>{children}</AppContext.Provider>;\n};\n\nexport default AppContextProvider;\n\n// import {createContext, useState} from \"react\";\n// // import LoginForm from './forms/LoginForm';\n\n// export const AppContext = createContext({\n//     currentGrid: '',\n//     setGrid: null\n// });\n\n// const DisplayAllBooksGrid1 = ({children})=>{\n//     const currentGrid = localStorage.getItem('appBook') || ''\n//     const [bookTitle, _setBookTitle] = useState(currentGrid)\n//     const grid = getGrid(bookTitle)\n\n//     const setBookTitle = (title)=>{\n//         localStorage.setItem('appBook', title)\n//         _setBookTitle(title)\n//     }\n\n//     const values = {\n//         currentGrid: bookTitle,\n//         setGrid: setBookTitle\n//     }\n\n//     return{\n//         <AppContext.Provider value={values}>\n//             {children}\n//         </AppContext.Provider>\n//     }\n\n// }\n\n// export default DisplayAllBooksGrid1\n"],"mappings":";;;AAAA,SAASA,aAAT,EAAwBC,SAAxB,EAAmCC,UAAnC,EAA+CC,QAA/C,QAA+D,OAA/D;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,yBAAzC;;AAEA,OAAO,MAAMC,UAAU,gBAAGN,aAAa,EAAhC;;AAEP,MAAMO,kBAAkB,GAAG,QAAkB;EAAA;;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;;EAC3C,MAAMC,aAAa,GAAG,MAAM;IAC1B,IAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACA,IAAIF,IAAJ,EAAU;MACR,OAAOG,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAP;IACD;EACF,CALD;;EAMA,MAAMK,aAAa,GAAG,MAAM;IAC1B,IAAIC,IAAI,GAAGL,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX;;IACA,IAAII,IAAJ,EAAU;MACR,OAAOH,IAAI,CAACC,KAAL,CAAWE,IAAX,CAAP;IACD;EACF,CALD;;EAMA,MAAM,CAACN,IAAD,EAAOO,QAAP,IAAmBd,QAAQ,mBAACM,aAAa,EAAd,2DAAoB,EAApB,CAAjC;EACA,MAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACa,IAAD,EAAOI,QAAP,IAAmBlB,UAAU,CAACE,WAAD,oBAAcW,aAAa,EAA3B,2DAAiC,EAAjC,CAAnC;EAEAd,SAAS,CAAC,MAAM;IACdU,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAeN,IAAf,CAA7B;EACD,CAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;;EAGA,MAAMO,OAAO,GAAIb,IAAD,IAAU;IACxBC,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6BR,IAAI,CAACS,SAAL,CAAeZ,IAAf,CAA7B;;IACAO,QAAQ,CAACP,IAAD,CAAR;EACD,CAHD;;EAKA,MAAMc,MAAM,GAAG;IACbN,KADa;IAEbC,QAFa;IAGbT,IAHa;IAIba,OAJa;IAKbP,IALa;IAObS,SAAS,EAAErB,WAAW,CAACC,WAAW,CAACoB,SAAZ,CAAsBC,IAAtB,CAAD,CAPT;IAQb;IACA;IACA;IACAC,aAAa,EAAGD,IAAD,IAAU;MACvBN,QAAQ,CAAC;QAAEQ,IAAI,EAAEvB,WAAW,CAACsB,aAApB;QAAmCD;MAAnC,CAAD,CAAR;IACD,CAbY;IAcbG,cAAc,EAAGH,IAAD,IAAU;MACxBN,QAAQ,CAAC;QAAEQ,IAAI,EAAEvB,WAAW,CAACwB,cAApB;QAAoCH;MAApC,CAAD,CAAR;IACD,CAhBY;IAiBbI,iBAAiB,EAAGJ,IAAD,IAAU;MAC3BN,QAAQ,CAAC;QAAEQ,IAAI,EAAEvB,WAAW,CAACyB,iBAApB;QAAuCJ;MAAvC,CAAD,CAAR;IACD,CAnBY;IAoBbK,SAAS,EAAE,MAAM;MACfX,QAAQ,CAAC;QAAEQ,IAAI,EAAEvB,WAAW,CAAC0B;MAApB,CAAD,CAAR;IACD;EAtBY,CAAf;EAwBA,oBAAO,QAAC,UAAD,CAAY,QAAZ;IAAqB,KAAK,EAAEP,MAA5B;IAAA,UAAqChB;EAArC;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAlDD;;GAAMD,kB;;KAAAA,kB;AAoDN,eAAeA,kBAAf,C,CAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA"},"metadata":{},"sourceType":"module"}